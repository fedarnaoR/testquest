<!DOCTYPE>
<html xmlns="http://www.thymeleaf.org">
<head>
<link rel="stylesheet"
	href="/webjars/bootstrap/4.2.1/css/bootstrap.min.css">
<link rel="stylesheet" href="/webjars/jquery-ui/1.12.1/jquery-ui.css">

<script src="/webjars/jquery/3.0.0/jquery.min.js"></script>
<script src="/webjars/bootstrap/4.2.1/js/bootstrap.min.js"></script>
<script src="/webjars/jquery-ui/1.12.1/jquery-ui.js"></script>
<script src="/webjars/jquery-validation/dist/jquery.validate.js"></script>
<script src="/webjars/jquery-validation/dist/additional-methods.js"></script>
<script type="text/javascript">
	$(document).ready(function() {
		$("#dob").datepicker({
			dateFormat: "dd/mm/yy",
			showOn: "both",
			showOtherMonths: true,
			buttonText: "Choose",
			changeMonth: true,
			changeYear: true,
			minDate: "-132y",
			maxDate: "-16y",
			yearRange: "-132:-16"
		});
		
		$("#formNewPerson").validate({
			rules: {
				name: {
					required: true
				},
				ppsNumber: {
					required: true,
					minlength: 8,
					pattern: "^[0-9]{7}[A-Za-z]{1,2}$"
				},
				dob: {
					required: true,
					minlength: 10
				},
				mobilePhone: {
					minlength: 10,
					pattern: "^08[0-9]{8}$"
				}
			}, 
			messages: {
				name: {
					required: "Please, enter the person's name"
				},
				ppsNumber: {
					required: "Please, enter the PPS Number",
					minlength: "PPS Number must be at least 8 characters",
					pattern: "PPS Number must be seven numbers and one or two characters"
				},
				dob: {
					required: "Please, enter de date of birth",
					minlength: "Please, enter the date of birth in the format dd/mm/yyyy"
				},
				mobilePhone: {
					minlength: "Mobile phone must have 10 digits",
					pattern: "Mobile phone must be start with 08"
				}
			}
		})
	});
</script>

<style>
.div-center {
	width: 640px;
	height: 480px;
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;
	right: 0;
	margin: auto;
}

.row-pb {
	padding-bottom: 15px;
}

.row-pb-3 {
	padding-bottom: 45px;
}

.uppercase {
	text-transform: uppercase;
}
</style>
</head>
<body>
	<div class="div-center">
		<form action="insert" id="formNewPerson">
			<div class="container">
				<div class="row row-pb">
					<div class="col-sm-3">
						<label for="name" class="col-form-label">Name:</label>
					</div>
					<div class="col-sm-1"></div>
					<div class="col-sm-8">
						<input type="text" name="name" maxlength=25 class="form-control"
							id="name" placeholder="Person's name" />
					</div>
				</div>
				<div class="row row-pb">
					<div class="col-sm-3">
						<label for="ppsNumber" class="col-form-label">PPS Number:</label>
					</div>
					<div class="col-sm-1"></div>
					<div class="col-sm-8">
						<input type="text" name="ppsNumber" class="form-control uppercase"
							id="ppsNumber" placeholder="PPS Number" maxlength=9 />
					</div>
				</div>
				<div class="row row-pb">
					<div class="col-sm-3">
						<label for="dob" class="col-form-label">Date Of Birth:</label>
					</div>
					<div class="col-sm-1"></div>
					<div class="col-sm-8">
						<input type="text" name="dob" class="form-control" id="dob" placeholder="dd/mm/yyyy" maxlength=10 />
					</div>
				</div>
				<div class="row row-pb-3">
					<div class="col-sm-3">
						<label for="mobilePhone" class="col-form-label">Mobile
							Phone:</label>
					</div>
					<div class="col-sm-1"></div>
					<div class="col-sm-8">
						<input type="text" name="mobilePhone" class="form-control"
							id="mobilePhone" maxlength=10
							placeholder="08" />
					</div>
				</div>
				<div class="row">
					<div class="col-sm-5"></div>
					<div class="col-sm-2">
						<input type="submit" value="Submit" class="btn btn-primary" />
					</div>
					<div class="col-sm-2">
						<input type="button" value="Cancel" class="btn btn-secondary"
							onclick="location.href='/people';" />
					</div>
					<div class="col-sm-3"></div>
				</div>
			</div>
		</form>
	</div>
</body>
</html>